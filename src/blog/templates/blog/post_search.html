{% extends 'base.html' %}
{% load static %}

{% block title %}Blog - Search{% endblock %}
{% block extra_css %}{% endblock %}

<!--================================= page-title-->

{% block sub-title %}Post Search{% endblock %}
{% block root_b %}Blog{% endblock %}
{% block root_c %}Search{% endblock %}

<!--================================= page-title -->

{% block content %}

  <!--================================= datatables -->

  <section class="datatable-base page-section-ptb">
    <div class="container">
      <h3 class="mb-50">{{ query }}
        ({{ posts|length }})</h3>
      <div class="row">
        <div class="col-lg-12 col-md-12">
          <div class="table-responsive">
            <table id="datatable" class="table table-striped table-bordered border" cellspacing="0" width="100%">
              <thead>
                <tr>
                  <th class="col-md-4">Title</th>
                  <th class="col-md-2">Tag</th>
                  <th class="col-md-1">Comment</th>
                  <th class="col-md-2">Writer</th>
                  <th class="col-md-3">created_at</th>
                </tr>
              </thead>
              <tbody>
                {% for post in posts %}
                  <tr>
                    <td>
                      <a href="{% url 'blog:detail' pk=post.pk %}">{{ post.title }}</a>
                    </td>
                    <td>{{ post.tags.all|join:", " }}</td>
                    <td>{{ post.comment.all|length }}</td>
                    <td>{{ post.writer }}</td>
                    <td>{{ post.created_at }}</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!--================================= datatables -->

{% endblock %}